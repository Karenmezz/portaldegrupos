---
import "@css/investigation.css";

const noticias = [
  {
    id: 1,
    titulo: "Nuevo proyecto de investigación aprobado",
    fecha: "15 Mar 2025",
    contenido: "Nuestro grupo ha recibido financiación para un nuevo proyecto sobre cargajas renovables que permitan ganarse en el desarrollo de celebrados.",
    categoria: "proyectos"
  },
  {
    id: 2,
    titulo: "Publicación en revista internacional",
    fecha: "10 Mar 2025",
    contenido: "El último estudio del grupo ha sido publicado en una prestigiosa revista científica, destacando los aparatos de nuestra investigación sobre materia.",
    categoria: "publicaciones"
  }
];

const eventos = [
  {
    id: 1,
    titulo: "Conferencia internacional",
    fecha: "8 Mar 2025",
    contenido: "Miembros del grupo presentarán sus investigaciones en la conferencia anual del sector energético, compartiendo conocimientos con...",
    categoria: "eventos"
  }
];

const libros = [
  { id: 1, titulo: "Inteligencia Artificial y Energía", fecha: "2024", contenido: "Explora aplicaciones de IA en energía renovable." },
  { id: 2, titulo: "Optimización en Ingeniería", fecha: "2023", contenido: "Modelos matemáticos aplicados a sistemas complejos." },
  { id: 3, titulo: "Redes Neuronales en Ingeniería", fecha: "2022", contenido: "Fundamentos y casos reales." },
  { id: 4, titulo: "Simulación de Procesos Industriales", fecha: "2021", contenido: "Métodos de simulación y análisis de datos." },
  { id: 5, titulo: "Gestión de Proyectos Tecnológicos", fecha: "2020", contenido: "Planeación y ejecución en contextos innovadores." }
];

const software = [
  { id: 1, titulo: "OptiFlow", fecha: "2024", contenido: "Software para simulación de flujos industriales." },
  { id: 2, titulo: "DataCleanX", fecha: "2023", contenido: "Herramienta de limpieza de datos de sensores." },
  { id: 3, titulo: "AI-EnergyModel", fecha: "2022", contenido: "Predicción de consumo energético usando IA." },
  { id: 4, titulo: "ProyManager", fecha: "2021", contenido: "Gestión de proyectos colaborativos." }
];

const trabajos = [
  { id: 1, titulo: "Análisis de eficiencia energética en campus universitarios", fecha: "2024" , contenido: "Trabajo dirigido sobre optimización de consumo." },
  { id: 2, titulo: "Desarrollo de prototipos IoT", fecha: "2024", contenido: "Integración de sensores y controladores." },
  { id: 3, titulo: "Estudio de materiales renovables", fecha: "2023", contenido: "Investigación de propiedades mecánicas." },
  { id: 4, titulo: "Diseño de sistemas híbridos solar-eólico", fecha: "2023", contenido: "Modelado y simulación computacional." },
  { id: 5, titulo: "Optimización de redes eléctricas", fecha: "2022", contenido: "Trabajo en colaboración con empresa regional." },
  { id: 6, titulo: "Evaluación de impacto ambiental en proyectos TIC", fecha: "2021", contenido: "Análisis de ciclo de vida de dispositivos." }
];
---
<div class="container">
  <h1>Proyectos de Investigación</h1>

  <div class="controls">
    <div class="search-bar">
      <input type="text" id="search-input" placeholder="Buscar noticias o eventos..." />
      <button id="search-button">Buscar</button>
    </div>
    <div class="tabs">
      <button class="tab-button active" data-tab="noticias">Noticias</button>
      <button class="tab-button" data-tab="eventos">Eventos</button>
      <button class="tab-button" data-tab="libros">Libros</button>
      <button class="tab-button" data-tab="software">Software</button>
      <button class="tab-button" data-tab="trabajos">Trabajo Dirigido</button>
    </div>
  </div>

  <div class="content">
    <div id="noticias-container" class="tab-content active">
      {noticias.map(n => (
        <div class="card">
          <h2>{n.titulo}</h2>
          <div class="date">{n.fecha}</div>
          <p>{n.contenido}</p>
          <a href="https://uis.edu.co/es/" target="_blank" class="read-more" data-id={n.id}>Leer más</a>
        </div>
      ))}
    </div>

    <div id="eventos-container" class="tab-content">
      {eventos.map(e => (
        <div class="card">
          <h2>{e.titulo}</h2>
          <div class="date">{e.fecha}</div>
          <p>{e.contenido}</p>
          <a href="https://uis.edu.co/es/" target="_blank" class="read-more" data-id={e.id}>Leer más</a>
        </div>
      ))}
    </div>

    <div id="libros-container" class="tab-content">
      {libros.map(l => (
        <div class="card">
          <h2>{l.titulo}</h2>
          <div class="date">{l.fecha}</div>
          <p>{l.contenido}</p>
          <a href="https://uis.edu.co/es/" target="_blank" class="read-more" data-id={l.id}>Leer más</a>
        </div>
      ))}
    </div>

    <div id="software-container" class="tab-content">
      {software.map(s => (
        <div class="card">
          <h2>{s.titulo}</h2>
          <div class="date">{s.fecha}</div>
          <p>{s.contenido}</p>
          <a href="https://uis.edu.co/es/" target="_blank" class="read-more" data-id={s.id}>Leer más</a>
        </div>
      ))}
    </div>

    <div id="trabajos-container" class="tab-content">
      {trabajos.map(t => (
        <div class="card">
          <h2>{t.titulo}</h2>
          <div class="date">{t.fecha}</div>
          <p>{t.contenido}</p>
          <a href="https://uis.edu.co/es/" target="_blank" class="read-more" data-id={t.id}>Leer más</a>
        </div>
      ))}
    </div>
  </div>
</div>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    const tabButtons = document.querySelectorAll('.tab-button');
    const searchInput = document.getElementById('search-input');
    const searchButton = document.getElementById('search-button');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        tabButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        document.querySelectorAll('.tab-content').forEach(content => {
          content.classList.remove('active');
        });

        document.getElementById(`${button.dataset.tab}-container`).classList.add('active');
      });
    });

    function buscar() {
      const termino = searchInput.value.toLowerCase();
      const activeTab = document.querySelector('.tab-button.active').dataset.tab;
      const cards = document.querySelectorAll(`#${activeTab}-container .card`);

      cards.forEach(card => {
        const text = card.textContent.toLowerCase();
        card.style.display = text.includes(termino) ? 'block' : 'none';
      });
    }

    searchButton.addEventListener('click', buscar);
    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') buscar();
    });
  });
</script>