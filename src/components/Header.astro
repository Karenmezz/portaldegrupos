---
// Header.astro
import "@css/header.css";
import Language from "@components/icons/Language.astro";
import Menu from "@components/icons/Menu.astro";

const sections = [
  { name: "Inicio", link: "/" },
  { name: "Quienes Somos", link: "/whoweare" },
  { name: "Investigacion", link: "/investigation" },
  { name: "Contactenos", link: "/contact" },
  { name: "Actualidad", link: "/present" },
];
---

<header class="header">
  <div class="header-container">
    <div class="contaninermenor">
      <div class="icono_superior">
        <img src="img/logo-calumet.png" alt="Logo Calumet" />
      </div>

      <div class="containertext">
        <a href="/" class="logo">
          <div class="content-grup">
            <span class="grupo_id">Calumet</span>
            <p>Grupo de Innovacion y Desarrollo</p>
          </div>
        </a>
      </div>
    </div>

    <button class="menu-button" id="menu-button">
      <span class="menu-icon"><Menu /></span>
    </button>

    <!-------- Navegación -------->
    <nav class="navigation" id="navigation">
      {
        sections.map((section) => (
          <a href={section.link} class="secciones-pag">
            {section.name}
          </a>
        ))
      }

      <!-- Botón idioma versión móvil -->
      <button class="language-button movil" id="language-button-mobile">
        <span class="language-text">ES</span>
        <span class="language-icon"><Language/></span>
      </button>

      <a href="/login" class="boton-ingresar movil">Iniciar Sesión</a>
    </nav>

    <!-- Versión escritorio -->
    <div class="actions">
      <button class="language-button escritorio" id="language-button">
        <span class="language-text">ES</span>
        <span class="language-icon"><Language/></span>
      </button>
      <a href="/login" class="boton-ingresar escritorio">Iniciar Sesión</a>
    </div>
  </div>
</header>

<script>
  const menuButton = document.getElementById("menu-button");
  const navigation = document.getElementById("navigation");

  if (menuButton && navigation) {
    menuButton.addEventListener("click", () => {
      navigation.classList.toggle("open");
    });

    const languageButtons = document.querySelectorAll(".language-button");
    let currentLanguage = "ES";

    languageButtons.forEach((button) => {
      const textEl = button.querySelector(".language-text");
      button.addEventListener("click", () => {
        currentLanguage = currentLanguage === "ES" ? "EN" : "ES";
        if (textEl) textEl.textContent = currentLanguage;
        console.log(`Idioma cambiado a: ${currentLanguage}`);
      });
    });
  }
</script>
